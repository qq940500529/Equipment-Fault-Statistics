# UI/UX 设计文档 (UI/UX Design Documentation)

## 1. 设计原则

### 1.1 核心原则

- **简洁明了**: 界面简洁，操作直观，无需学习即可使用
- **流程清晰**: 按步骤引导用户完成数据处理
- **反馈及时**: 每个操作都有明确的反馈
- **容错友好**: 提供清晰的错误提示和恢复建议
- **响应式设计**: 适配不同屏幕尺寸

### 1.2 用户群体

- **主要用户**: 设备管理人员、维修统计人员
- **技术水平**: 基础计算机操作能力
- **使用场景**: 办公室环境，偶尔现场使用
- **使用频率**: 周期性（如每周、每月）

## 2. 整体布局

### 2.1 页面结构

```
┌─────────────────────────────────────────────────────────────┐
│                         页面顶部                              │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  Logo  设备故障统计数据处理系统          [帮助] [关于]│    │
│  └─────────────────────────────────────────────────────┘    │
├─────────────────────────────────────────────────────────────┤
│                       主要内容区                              │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  步骤指示器: ① 上传 → ② 预览 → ③ 处理 → ④ 查看 → ⑤ 导出 │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐    │
│  │                                                     │    │
│  │              当前步骤的内容区域                       │    │
│  │                                                     │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  [上一步]                               [下一步]     │    │
│  └─────────────────────────────────────────────────────┘    │
│                                                             │
├─────────────────────────────────────────────────────────────┤
│                         页面底部                              │
│  ┌─────────────────────────────────────────────────────┐    │
│  │  版权信息 | 使用说明 | 数据隐私声明                   │    │
│  └─────────────────────────────────────────────────────┘    │
└─────────────────────────────────────────────────────────────┘
```

### 2.2 颜色方案

#### 主色调
- **主色**: #1890ff (蓝色) - 用于主要按钮、链接
- **成功色**: #52c41a (绿色) - 用于成功提示
- **警告色**: #faad14 (橙色) - 用于警告提示
- **错误色**: #f5222d (红色) - 用于错误提示
- **信息色**: #1890ff (蓝色) - 用于信息提示

#### 辅助色
- **背景色**: #f0f2f5 (浅灰)
- **卡片背景**: #ffffff (白色)
- **文字主色**: #262626 (深灰)
- **文字辅色**: #8c8c8c (灰色)
- **边框色**: #d9d9d9 (浅灰)

### 2.3 字体规范

- **标题字体**: 
  - H1: 28px, 加粗
  - H2: 24px, 加粗
  - H3: 20px, 加粗
  - H4: 16px, 加粗

- **正文字体**: 14px, 常规
- **小字**: 12px, 常规
- **字体家族**: -apple-system, BlinkMacSystemFont, "Segoe UI", "Microsoft YaHei", sans-serif

## 3. 各步骤界面设计

### 3.1 步骤1: 文件上传

```
┌─────────────────────────────────────────────────────────┐
│  步骤 1 - 上传Excel文件                                  │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │        📁                                       │   │
│  │                                                 │   │
│  │     点击或拖拽Excel文件到此处上传                │   │
│  │                                                 │   │
│  │   支持格式: .xlsx, .xls                         │   │
│  │   建议大小: < 10MB                              │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  已选择文件: 设备故障数据_2024年1月.xlsx (2.3 MB)        │
│                                                         │
│  ┌──────────────────────────────────────┐              │
│  │  [选择文件]       [清除]             │              │
│  └──────────────────────────────────────┘              │
│                                                         │
│  💡 提示:                                               │
│  - 请确保Excel文件包含"原始数据"工作表                   │
│  - 必需列: 工单号、车间、维修人、报修时间、               │
│           维修开始时间、维修结束时间                     │
│                                                         │
└─────────────────────────────────────────────────────────┘

[下一步: 预览数据 →]
```

**交互说明**:
- 支持拖拽上传
- 支持点击选择文件
- 实时显示文件名和大小
- 文件格式验证
- 文件大小检查

### 3.2 步骤2: 数据预览

```
┌─────────────────────────────────────────────────────────┐
│  步骤 2 - 数据预览                                       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  工作表: 原始数据  ▼                                     │
│  显示前 50 行 (共 1000 行)                               │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │ 工单号 │ 车间   │ 维修人 │ 报修时间 │ 开始 │ 结束 │   │
│  ├─────────────────────────────────────────────────┤   │
│  │ WO001 │一车间-A│王兴森  │2024-01-01│...  │...  │   │
│  │ WO002 │二车间  │李润海  │2024-01-01│...  │...  │   │
│  │ ...   │...    │...     │...       │...  │...  │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  ✅ 检测到必需列:                                        │
│  ✓ 工单号  ✓ 车间  ✓ 维修人                             │
│  ✓ 报修时间  ✓ 维修开始时间  ✓ 维修结束时间              │
│                                                         │
│  ⚠️ 数据质量检查:                                        │
│  - 发现 5 行车间为"合计"，将被删除                       │
│  - 发现 10 行时间数据不完整，将被删除                    │
│  - 预计处理后剩余: 985 行                                │
│                                                         │
└─────────────────────────────────────────────────────────┘

[← 重新上传]            [开始处理 →]
```

**交互说明**:
- 表格可滚动查看
- 显示数据统计信息
- 实时验证数据质量
- 显示预警信息

### 3.3 步骤3: 数据处理

```
┌─────────────────────────────────────────────────────────┐
│  步骤 3 - 数据处理中                                     │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │                                                 │   │
│  │              ⚙️  正在处理数据...                │   │
│  │                                                 │   │
│  │  ████████████████░░░░░░░░░░░░  65%             │   │
│  │                                                 │   │
│  │  当前步骤: 计算时间字段                          │   │
│  │                                                 │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  处理日志:                                              │
│  ✓ 已删除 5 行"合计"数据                                │
│  ✓ 已完成车间列分列 (新增"区域"列)                      │
│  ✓ 已完成维修人分类                                     │
│  ⚙️ 正在计算时间字段...                                 │
│  ⏳ 等待处理时间不完整的行...                            │
│                                                         │
└─────────────────────────────────────────────────────────┘
```

**交互说明**:
- 显示处理进度
- 实时显示处理日志
- 不可中断（或提供取消按钮）

### 3.4 步骤4: 查看结果

```
┌─────────────────────────────────────────────────────────┐
│  步骤 4 - 处理结果                                       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  ✅ 处理完成！                                           │
│                                                         │
│  ┌─────────────────────────────────────────────────┐   │
│  │  📊 处理统计                                     │   │
│  │                                                 │   │
│  │  原始数据行数:         1000                      │   │
│  │  删除"合计"行:         5                        │   │
│  │  删除时间不完整行:     10                       │   │
│  │  最终处理行数:         985                      │   │
│  │                                                 │   │
│  │  新增列:                                        │   │
│  │  • 区域 (从车间列提取)                          │   │
│  │  • 维修人分类 (维修工/电工/未知)                 │   │
│  │  • 等待时间h                                    │   │
│  │  • 维修时间h                                    │   │
│  │  • 故障时间h                                    │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
│  数据预览 (前20行):                                     │
│  ┌─────────────────────────────────────────────────┐   │
│  │工单号│车间│区域│维修人│分类│等待h│维修h│故障h  │   │
│  ├─────────────────────────────────────────────────┤   │
│  │WO001│一车│A区 │王兴森│维修│1.50 │2.50 │4.00  │   │
│  │WO002│二车│    │李润海│电工│2.00 │1.50 │3.50  │   │
│  │...  │... │... │...   │... │...  │...  │...   │   │
│  └─────────────────────────────────────────────────┘   │
│                                                         │
└─────────────────────────────────────────────────────────┘

[← 重新处理]            [导出数据 →]
```

**交互说明**:
- 显示处理统计
- 预览处理后数据
- 提供导出选项

### 3.5 步骤5: 导出数据

```
┌─────────────────────────────────────────────────────────┐
│  步骤 5 - 导出数据                                       │
├─────────────────────────────────────────────────────────┤
│                                                         │
│  选择导出格式:                                           │
│                                                         │
│  ┌─────────────────┐  ┌─────────────────┐             │
│  │  📊 Excel格式   │  │  📄 CSV格式     │             │
│  │                 │  │                 │             │
│  │  推荐使用       │  │  通用格式       │             │
│  │  保留格式和样式 │  │  可用其他软件   │             │
│  │                 │  │                 │             │
│  │  [下载 .xlsx]   │  │  [下载 .csv]    │             │
│  └─────────────────┘  └─────────────────┘             │
│                                                         │
│  ┌─────────────────┐                                   │
│  │  💾 JSON格式    │                                   │
│  │                 │                                   │
│  │  开发者使用     │                                   │
│  │  程序调用       │                                   │
│  │                 │                                   │
│  │  [下载 .json]   │                                   │
│  └─────────────────┘                                   │
│                                                         │
│  文件名: 整理后数据_2024-01-15_143022                    │
│  [✓] 自动添加时间戳                                     │
│                                                         │
│  ─────────────────────────────────────────────         │
│                                                         │
│  💡 下载完成后可以:                                      │
│  • 查看图表分析 (即将推出)                               │
│  • 处理新文件                                           │
│  • 返回首页                                             │
│                                                         │
└─────────────────────────────────────────────────────────┘

[← 返回查看]   [处理新文件]   [查看图表 →]
```

**交互说明**:
- 多种导出格式选择
- 自定义文件名
- 自动添加时间戳选项

## 4. 组件设计

### 4.1 按钮

#### 主要按钮
```css
.btn-primary {
    background: #1890ff;
    color: #fff;
    border: none;
    padding: 10px 24px;
    border-radius: 4px;
    font-size: 14px;
    cursor: pointer;
}

.btn-primary:hover {
    background: #40a9ff;
}
```

#### 次要按钮
```css
.btn-secondary {
    background: #fff;
    color: #262626;
    border: 1px solid #d9d9d9;
    padding: 10px 24px;
    border-radius: 4px;
    font-size: 14px;
    cursor: pointer;
}

.btn-secondary:hover {
    border-color: #40a9ff;
    color: #40a9ff;
}
```

### 4.2 消息提示

#### 成功提示
```
┌─────────────────────────────────────┐
│ ✅ 数据处理成功！共处理985行数据      │
└─────────────────────────────────────┘
```

#### 错误提示
```
┌─────────────────────────────────────┐
│ ❌ 错误: 未找到"工单号"列            │
│    请检查Excel文件格式               │
└─────────────────────────────────────┘
```

#### 警告提示
```
┌─────────────────────────────────────┐
│ ⚠️ 警告: 发现10行时间数据不完整      │
│    这些行将被自动删除                │
└─────────────────────────────────────┘
```

#### 信息提示
```
┌─────────────────────────────────────┐
│ ℹ️ 提示: 正在处理数据，请稍候...     │
└─────────────────────────────────────┘
```

### 4.3 数据表格

```css
.data-table {
    width: 100%;
    border-collapse: collapse;
    background: #fff;
}

.data-table th {
    background: #fafafa;
    padding: 12px;
    text-align: left;
    font-weight: 600;
    border-bottom: 2px solid #f0f0f0;
}

.data-table td {
    padding: 12px;
    border-bottom: 1px solid #f0f0f0;
}

.data-table tr:hover {
    background: #fafafa;
}
```

### 4.4 进度条

```
████████████████░░░░░░░░░░░░  65%
```

```css
.progress-bar {
    width: 100%;
    height: 20px;
    background: #f0f0f0;
    border-radius: 10px;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg, #1890ff, #40a9ff);
    transition: width 0.3s ease;
}
```

### 4.5 卡片容器

```css
.card {
    background: #fff;
    border-radius: 8px;
    padding: 24px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    margin-bottom: 16px;
}

.card-title {
    font-size: 20px;
    font-weight: 600;
    margin-bottom: 16px;
    color: #262626;
}
```

## 5. 响应式设计

### 5.1 断点设置

- **超小屏**: < 576px (手机竖屏)
- **小屏**: 576px - 768px (手机横屏、小平板)
- **中屏**: 768px - 992px (平板)
- **大屏**: 992px - 1200px (笔记本)
- **超大屏**: > 1200px (台式机)

### 5.2 移动端适配

#### 手机端布局
- 单列布局
- 减小卡片内边距
- 增大按钮尺寸（便于点击）
- 隐藏非必要信息
- 简化表格显示（卡片式）

#### 平板端布局
- 双列或单列布局
- 保持标准内边距
- 标准按钮尺寸
- 显示重要信息
- 标准表格显示

## 6. 交互动画

### 6.1 页面切换
- 淡入淡出效果
- 持续时间: 300ms
- 缓动函数: ease-in-out

### 6.2 按钮交互
- 悬停: 颜色渐变
- 点击: 轻微缩放
- 持续时间: 150ms

### 6.3 数据加载
- 骨架屏显示
- 渐进式加载
- 加载动画

## 7. 错误状态设计

### 7.1 文件上传错误

```
┌─────────────────────────────────────┐
│  ❌ 上传失败                        │
│                                     │
│  错误原因:                          │
│  • 文件格式不支持                   │
│                                     │
│  解决方法:                          │
│  • 请选择.xlsx或.xls格式的文件      │
│                                     │
│  [重新选择文件]                     │
└─────────────────────────────────────┘
```

### 7.2 数据验证错误

```
┌─────────────────────────────────────┐
│  ❌ 数据验证失败                    │
│                                     │
│  发现以下问题:                      │
│  ✗ 缺少必需列: 工单号               │
│  ✗ 缺少必需列: 车间                 │
│                                     │
│  建议:                              │
│  • 检查Excel文件是否为正确的模板    │
│  • 确保包含所有必需列               │
│                                     │
│  [查看详细说明]  [重新上传]         │
└─────────────────────────────────────┘
```

### 7.3 处理错误

```
┌─────────────────────────────────────┐
│  ❌ 处理过程出错                    │
│                                     │
│  错误信息:                          │
│  第 156 行的日期格式无法识别         │
│                                     │
│  已处理: 155 行                     │
│  剩余: 845 行                       │
│                                     │
│  [继续处理]  [停止并导出]  [取消]   │
└─────────────────────────────────────┘
```

## 8. 空状态设计

### 8.1 无数据状态

```
┌─────────────────────────────────────┐
│                                     │
│           📭                        │
│                                     │
│      暂无数据                        │
│                                     │
│  请先上传Excel文件开始处理           │
│                                     │
│  [上传文件]                         │
│                                     │
└─────────────────────────────────────┘
```

### 8.2 搜索无结果

```
┌─────────────────────────────────────┐
│                                     │
│           🔍                        │
│                                     │
│      未找到匹配项                    │
│                                     │
│  请尝试其他搜索关键词                │
│                                     │
└─────────────────────────────────────┘
```

## 9. 辅助功能 (Accessibility)

### 9.1 键盘导航
- Tab键切换焦点
- Enter键确认操作
- Esc键取消操作
- 方向键导航

### 9.2 屏幕阅读器支持
- 语义化HTML标签
- ARIA标签
- 表单标签关联
- 图片alt文本

### 9.3 对比度
- 文字与背景对比度 ≥ 4.5:1
- 大文字对比度 ≥ 3:1
- 图形对比度 ≥ 3:1

## 10. 性能优化

### 10.1 首屏加载
- 关键CSS内联
- 延迟加载非关键资源
- 资源压缩
- 使用CDN（可选）

### 10.2 运行时性能
- 虚拟滚动（大数据表格）
- 防抖和节流
- Web Worker后台处理
- 懒加载

### 10.3 视觉性能
- CSS动画使用transform
- 避免layout thrashing
- 使用will-change提示
- 减少重绘和回流

## 11. 用户引导

### 11.1 首次使用引导

```
┌─────────────────────────────────────┐
│  👋 欢迎使用设备故障统计系统          │
│                                     │
│  这是一个简单的五步流程:             │
│                                     │
│  ① 上传Excel文件                    │
│  ② 预览原始数据                     │
│  ③ 自动处理数据                     │
│  ④ 查看处理结果                     │
│  ⑤ 导出处理后的数据                 │
│                                     │
│  [✓] 不再显示此提示                 │
│                                     │
│  [开始使用]                         │
└─────────────────────────────────────┘
```

### 11.2 工具提示

鼠标悬停在 ⓘ 图标上显示提示：
```
┌─────────────────────────┐
│ 等待时间 = 维修开始时间  │
│           - 报修时间    │
└─────────────────────────┘
```

## 12. 图标系统

使用统一的图标风格，推荐使用：
- 📁 文件/上传
- 📊 图表/统计
- ⚙️ 设置/处理
- ✅ 成功
- ❌ 错误
- ⚠️ 警告
- ℹ️ 信息
- 💡 提示
- 🔍 搜索
- 📥 下载
- 👋 欢迎

或使用图标库: Font Awesome, Material Icons

## 13. 总结

本UI/UX设计遵循简洁、直观、高效的原则，通过清晰的步骤引导、及时的反馈和友好的错误处理，为用户提供流畅的操作体验。设计考虑了不同设备的适配和无障碍访问，确保系统易用性和可访问性。
